String.prototype.getBytes=function(){var output=[];for(var i=0;i<this.length;i++){var c=this.charCodeAt(i);var bytes=[];do{bytes.push(c&255);c=c>>8}while(c>0);output=output.concat(bytes.reverse())}return output};function RC4(seed){this.s=new Array(256);this.i=0;this.j=0;for(var i=0;i<256;i++){this.s[i]=i}if(seed){this.mix(seed)}}RC4.prototype._swap=function(i,j){var tmp=this.s[i];this.s[i]=this.s[j];this.s[j]=tmp};RC4.prototype.mix=function(seed){var input=seed.getBytes();var j=0;for(var i=0;i<this.s.length;i++){j+=this.s[i]+input[i%input.length];j%=256;this._swap(i,j)}};RC4.prototype.next=function(){this.i=(this.i+1)%256;this.j=(this.j+this.s[this.i])%256;this._swap(this.i,this.j);return this.s[(this.s[this.i]+this.s[this.j])%256]};function print_call_stack(){var e=new Error;var stack=e.stack;console.log(stack)}function RNG(seed){this.seed=seed;if(seed==null){seed=(Math.random()+Date.now()).toString()}else if(typeof seed==="function"){this.uniform=seed;this.nextByte=function(){return~~(this.uniform()*256)};seed=null}else if(Object.prototype.toString.call(seed)!=="[object String]"){seed=JSON.stringify(seed)}else{}this._normal=null;if(seed){this._state=new RC4(seed)}else{this._state=null}}RNG.prototype.nextByte=function(){return this._state.next()};RNG.prototype.uniform=function(){var BYTES=7;var output=0;for(var i=0;i<BYTES;i++){output*=256;output+=this.nextByte()}return output/(Math.pow(2,BYTES*8)-1)};RNG.prototype.random=function(n,m){if(n==null){return this.uniform()}else if(m==null){m=n;n=0}return n+Math.floor(this.uniform()*(m-n))};RNG.prototype.normal=function(){if(this._normal!==null){var n=this._normal;this._normal=null;return n}else{var x=this.uniform()||Math.pow(2,-53);var y=this.uniform();this._normal=Math.sqrt(-2*Math.log(x))*Math.sin(2*Math.PI*y);return Math.sqrt(-2*Math.log(x))*Math.cos(2*Math.PI*y)}};RNG.prototype.exponential=function(){return-Math.log(this.uniform()||Math.pow(2,-53))};RNG.prototype.poisson=function(mean){var L=Math.exp(-(mean||1));var k=0,p=1;do{k++;p*=this.uniform()}while(p>L);return k-1};RNG.prototype.gamma=function(a){var d=(a<1?1+a:a)-1/3;var c=1/Math.sqrt(9*d);do{do{var x=this.normal();var v=Math.pow(c*x+1,3)}while(v<=0);var u=this.uniform();var x2=Math.pow(x,2)}while(u>=1-.0331*x2*x2&&Math.log(u)>=.5*x2+d*(1-v+Math.log(v)));if(a<1){return d*v*Math.exp(this.exponential()/-a)}else{return d*v}};RNG.roller=function(expr,rng){var parts=expr.split(/(\d+)?d(\d+)([+-]\d+)?/).slice(1);var dice=parseFloat(parts[0])||1;var sides=parseFloat(parts[1]);var mod=parseFloat(parts[2])||0;rng=rng||new RNG;return function(){var total=dice+mod;for(var i=0;i<dice;i++){total+=rng.random(sides)}return total}};