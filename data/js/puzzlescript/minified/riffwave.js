var FastBase64_chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var FastBase64_encLookup=[];function FastBase64_Init(){for(var i=0;i<4096;i++){FastBase64_encLookup[i]=FastBase64_chars[i>>6]+FastBase64_chars[i&63]}}function FastBase64_Encode(src){var len=src.length;var dst="";var i=0;while(len>2){n=src[i]<<16|src[i+1]<<8|src[i+2];dst+=FastBase64_encLookup[n>>12]+FastBase64_encLookup[n&4095];len-=3;i+=3}if(len>0){var n1=(src[i]&252)>>2;var n2=(src[i]&3)<<4;if(len>1)n2|=(src[++i]&240)>>4;dst+=FastBase64_chars[n1];dst+=FastBase64_chars[n2];if(len==2){var n3=(src[i++]&15)<<2;n3|=(src[i]&192)>>6;dst+=FastBase64_chars[n3]}if(len==1)dst+="=";dst+="="}return dst}FastBase64_Init();function u32ToArray(i){return[i&255,i>>8&255,i>>16&255,i>>24&255]}function u16ToArray(i){return[i&255,i>>8&255]}function MakeRiff(sampleRate,bitsPerSample,data){var dat=[];var wav=[];var dataURI=[];var header={chunkId:[82,73,70,70],chunkSize:0,format:[87,65,86,69],subChunk1Id:[102,109,116,32],subChunk1Size:16,audioFormat:1,numChannels:1,sampleRate:sampleRate,byteRate:0,blockAlign:0,bitsPerSample:bitsPerSample,subChunk2Id:[100,97,116,97],subChunk2Size:0};header.byteRate=header.sampleRate*header.numChannels*header.bitsPerSample>>3;header.blockAlign=header.numChannels*header.bitsPerSample>>3;header.subChunk2Size=data.length;header.chunkSize=36+header.subChunk2Size;wav=header.chunkId.concat(u32ToArray(header.chunkSize),header.format,header.subChunk1Id,u32ToArray(header.subChunk1Size),u16ToArray(header.audioFormat),u16ToArray(header.numChannels),u32ToArray(header.sampleRate),u32ToArray(header.byteRate),u16ToArray(header.blockAlign),u16ToArray(header.bitsPerSample),header.subChunk2Id,u32ToArray(header.subChunk2Size),data);dataURI="data:audio/wav;base64,"+FastBase64_Encode(wav);var result={dat:dat,wav:wav,header:header,dataURI:dataURI};return result}if(typeof exports!="undefined")exports.RIFFWAVE=RIFFWAVE;